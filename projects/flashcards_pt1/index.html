<!DOCTYPE html> <html lang="en"> <head> <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"> <script async src="https://www.googletagmanager.com/gtag/js?id=G-01NSK99TZ0"></script> <script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-01NSK99TZ0");</script> <meta charset="utf-8"> <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <title>Flashcards Pt.1 | Aven Arlington</title> <meta name="author" content="Aven Arlington"> <meta name="description" content="Simple CLI utility that quizzes a user on custom clue-answer pairs"> <meta name="keywords" content="Rust programming language, Rust tutorials, Rust graphics programming, Rust utilities, Rust projects, Rust examples, Rust game development tutorials, Rust embedded systems programming guide, Graphics programming using Rust language, Embedded development with Rust, IoT programming in Rust, Video game design in Rust, IoT projects with Rust programming, Circuit design, portfolio-website, tutorial, "> <link rel="stylesheet" href="/assets/css/bootstrap.min.css?a4b3f509e79c54a512b890d73235ef04"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/css/mdb.min.css" integrity="sha256-jpjYvU3G3N6nrrBwXJoVEYI/0zw8htfFnhT9ljN3JJw=" crossorigin="anonymous"> <link defer rel="stylesheet" href="https://unpkg.com/bootstrap-table@1.22.1/dist/bootstrap-table.min.css"> <link rel="stylesheet" href="/assets/css/academicons.min.css?f0b7046b84e425c55f3463ac249818f5"> <link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Roboto+Slab:100,300,400,500,700|Material+Icons"> <link rel="stylesheet" href="/assets/css/jekyll-pygments-themes-github.css?19f3075a2d19613090fe9e16b564e1fe" media="" id="highlight_theme_light"> <link href="/assets/css/bootstrap-toc.min.css?6f5af0bb9aab25d79b2448143cbeaa88" rel="stylesheet"> <link rel="shortcut icon" href="data:image/svg+xml,&lt;svg%20xmlns=%22http://www.w3.org/2000/svg%22%20viewBox=%220%200%20100%20100%22&gt;&lt;text%20y=%22.9em%22%20font-size=%2290%22&gt;%E2%9A%9B%EF%B8%8F&lt;/text&gt;&lt;/svg&gt;"> <link rel="stylesheet" href="/assets/css/main.css?d41d8cd98f00b204e9800998ecf8427e"> <link rel="canonical" href="https://aven-arlington.github.io/projects/flashcards_pt1/"> <link rel="stylesheet" href="/assets/css/jekyll-pygments-themes-native.css?e74e74bf055e5729d44a7d031a5ca6a5" media="none" id="highlight_theme_dark"> <script src="/assets/js/theme.js?96d6b3e1c3604aca8b6134c7afdd5db6"></script> <script src="/assets/js/dark_mode.js?9b17307bb950ffa2e34be0227f53558f"></script> </head> <body class="fixed-top-nav "> <header> <nav id="navbar" class="navbar navbar-light navbar-expand-sm fixed-top"> <div class="container"> <a class="navbar-brand title font-weight-lighter" href="/"><span class="font-weight-bold">Aven </span>Arlington</a> <button class="navbar-toggler collapsed ml-auto" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation"> <span class="sr-only">Toggle navigation</span> <span class="icon-bar top-bar"></span> <span class="icon-bar middle-bar"></span> <span class="icon-bar bottom-bar"></span> </button> <div class="collapse navbar-collapse text-right" id="navbarNav"> <ul class="navbar-nav ml-auto flex-nowrap"> <li class="nav-item "> <a class="nav-link" href="/projects/">Projects</a> </li> <li class="nav-item "> <a class="nav-link" href="/repositories/">GitHub Repositories</a> </li> <li class="nav-item "> <a class="nav-link" href="/cv/">Resume</a> </li> <li class="nav-item "> <a class="nav-link" href="/cookoffs/">Cook-off</a> </li> <li class="toggle-container"> <button id="light-toggle" title="Change theme"> <i class="fa-solid fa-moon"></i> <i class="fa-solid fa-sun"></i> </button> </li> </ul> </div> </div> </nav> <progress id="progress" value="0"> <div class="progress-container"> <span class="progress-bar"></span> </div> </progress> </header> <div class="container mt-5"> <div class="row"> <div class="col-sm-3"> <nav id="toc-sidebar" class="sticky-top"></nav> </div> <div class="col-sm-9"> <div class="post"> <header class="post-header"> <h1 class="post-title">Flashcards Pt.1</h1> <p class="post-description">Simple CLI utility that quizzes a user on custom clue-answer pairs</p></header> <article> <h2 id="topics-covered">Topics Covered</h2> <ul> <li>Rust modules</li> <li>Visibility and privacy</li> </ul> <h2 id="tldr">TLDR</h2> <p><a href="#try-it-out">Try it out in a sandbox…</a><br> <a href="https://github.com/aven-arlington/flashcards-cli/tree/project-modules" rel="external nofollow noopener" target="_blank">Source code for this project post…</a><br> <a href="https://github.com/aven-arlington/flashcards-cli" rel="external nofollow noopener" target="_blank">Completed Project…</a></p> <h2 id="background">Background</h2> <p>For a brief time before I had the opportunity to study computer engineering, I was a machinist. The first thing my trades teacher had me build was a simple brass hammer. I learned a lot while creating this tool. Lathe fundamentals, milling machine operation, and how to start a project over after a mistake. By the end of the project I had grown as a machinist but I also had a nice brass hammer that I still have and continue to use. Whenever possible, I try to take a similar approach to software and hardware development. When I want to experiment with a new language I try to build something useful with it and learn along the way. This approach has served me well over the years and left me with a collection of useful utilities. Well some are more useful than others.</p> <p>Along those lines, I recently wanted to switch to Neovim as my code editor. A few of my most admired colleagues swore by Vim/Neovim and watching them absolutely fly around a code base to debug an issue amazed me to say the least. If that wasn’t incentive enough, I would also get super frustrated every time I set up a new embedded project or Linux machine and needed to make a simple edit to a config file. What should take seconds would end up taking 10 minutes trying to figure out how to move the cursor, enter edit mode, and make a change. I didn’t do it frequently enough to remember the commands but it was often enough to frustrate me to no end. The inspiration for this flashcard utility was born.</p> <p>My requirements for the utility were pretty simple. I needed something that would quiz me on semi-random Neovim shortcuts. It needs to be something I can do quickly for 5 minutes during downtime so a CLI interface is perfect. I needed the clue-answer pairs to be configurable with a easy to edit file format like YAML. I wanted the difficult to ramp up as I warmed up and improved.</p> <p>I had learning requirements for the project as well. I wanted a better understanding of the Rust module system, code visibility, and privacy. I wanted to make a project whose complexity sat somewhere between a trivial example and a full blown commercial application.</p> <h2 id="lets-tackle-the-problem">Let’s Tackle the Problem</h2> <h3 id="project-layout">Project Layout</h3> <p>While this project is relatively simple and could easily be contained in a single main.rs file, I prefer my projects to be broken down into easy to understand build blocks. Doing so helps not only helps me to remember how the code functions months (or even years) after I touched it last, but it can also serve as template to jump start other projects with shared or similar functionality. Since I enjoy jumping straight into the interesting part of a project, minimizing the time spent on project setup is valuable.</p> <p>The first thing I want to do is think about the separation of concerns and how I can break up my project into building blocks. I know I want to have a simple main function for the root of the binary crate to facilitate stand-alone operation. I also know I want the main functionality of the code to be in a library so I can call it as a dependency should I need to sometime in the future in a different project. Thus to start out I need a minimum of a main.rs and a lib.rs file in the src directory.</p> <div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="go">src
  ├── lib.rs
  └── main.rs
</span></code></pre></div></div> <p>I want the application to be configurable and I want the configuration functionality to be separate from the main logic of the application. Similarly, the application functionality needs to siloed into it’s own building block.</p> <p>Rust utilizes a module system to break code into functional units, control access, and limit visibility. The Rust compiler will start by looking at the root of the crate for a unit of code to compile and expand it’s search from there. One important thing to note is that Rust does not consider individual files to be units of code. Instead, units of code are explicitly defined with <code class="language-plaintext highlighter-rouge">mod</code> code blocks and a few simple rules on what files to search for them in.</p> <p><a href="https://doc.rust-lang.org/book/ch07-02-defining-modules-to-control-scope-and-privacy.html" rel="external nofollow noopener" target="_blank">Summarized from The Rust Programming Language book</a></p> <ol> <li>Crate root - Often a Rust package will contain both a library crate root and a binary crate root that defaults to src/lib.rs and src/main.rs respectively. Rust doesn’t consider other files by themselves to be code units unless a <code class="language-plaintext highlighter-rouge">mod</code> keyword is found that explicitly tells the compiler to do so. Accordingly, if the crate roots (binary and/or library) do not contain <code class="language-plaintext highlighter-rouge">mod</code> declarations the compiler will ignore any other *.rs files in the directory.</li> <li>Inline modules - Modules declared and defined in the same file with curly brackets. Example <code class="language-plaintext highlighter-rouge">mod my_module { ...my_code... }</code>.</li> <li>In the file src/module_name.rs - The compiler will look for the file name that matches the string after the <code class="language-plaintext highlighter-rouge">mod</code> declaration. For example if the compiler finds <code class="language-plaintext highlighter-rouge">mod engine</code> it will look for <code class="language-plaintext highlighter-rouge">src/engine.rs</code>.</li> <li>In the file src/module_name/mod.rs - The compiler will look for a <code class="language-plaintext highlighter-rouge">mod.rs</code> file in the directory with a name that matches the string after the <code class="language-plaintext highlighter-rouge">mod</code> declaration. For example the compiler will look for <code class="language-plaintext highlighter-rouge">src/engine/mod.rs</code> when it finds <code class="language-plaintext highlighter-rouge">mod engine</code> in the source.</li> <li>Submodules - Submodules can be declared in any file with the exception of the crate root. The rules are basically the same as before but the tree structure is rooted in the parent module’s directory. <ol> <li>Inline</li> <li>File src/module_name/sub_module_name.rs</li> <li>File src/module_name/sub_module_name/mod.rs</li> </ol> </li> </ol> <p>For example, when <code class="language-plaintext highlighter-rouge">cargo build</code> is called to compile the application, a pre-compiler will first open up lib.rs because that is the crate root for the library by default. From there, if a <code class="language-plaintext highlighter-rouge">mod</code> declaration is found, the file tree will be searched according to the rules and replace the <code class="language-plaintext highlighter-rouge">mod</code> declaration with the code it finds. It does this recursively until all modules and submodules are placed inline and most importantly, it does this before running the compiler over anything. The same steps are then repeated for the binary crate root, main.rs.</p> <p>Using this information, I can surmise that the application library crate root will need to declare <code class="language-plaintext highlighter-rouge">mod config</code> and <code class="language-plaintext highlighter-rouge">mod engine</code> to contain the respective code blocks. The <code class="language-plaintext highlighter-rouge">engine.rs</code> and <code class="language-plaintext highlighter-rouge">config.rs</code> files can then be added to the tree.</p> <div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="go">src
  ├── config.rs
  ├── engine.rs
  ├── lib.rs
  └── main.rs
</span></code></pre></div></div> <div class="language-rust highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// src/lib.rs</span>
<span class="k">mod</span> <span class="n">engine</span><span class="p">;</span>
<span class="k">mod</span> <span class="n">config</span><span class="p">;</span>
</code></pre></div></div> <p>The Flashcards utility/game can logically be broken up into the game engine itself, a representation of a deck of flashcards, and the representation of the flashcards themselves. The game logic can naturally go in the <code class="language-plaintext highlighter-rouge">engine</code> module located in the <code class="language-plaintext highlighter-rouge">engine.rs</code> file. The other two will be sub-modules of <code class="language-plaintext highlighter-rouge">engine</code>. To create a submodule following the rules outlined above, I need a <code class="language-plaintext highlighter-rouge">engine</code> folder with both <code class="language-plaintext highlighter-rouge">deck.rs</code> and <code class="language-plaintext highlighter-rouge">flashcard.rs</code> contained within.</p> <div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="go">src
  ├── engine
  │     ├── deck.rs
  │     └── flashcard.rs
  ├── config.rs
  ├── engine.rs
  ├── lib.rs
  └── main.rs
</span></code></pre></div></div> <div class="language-rust highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// src/engine.rs</span>
<span class="k">mod</span> <span class="n">deck</span><span class="p">;</span>
<span class="k">mod</span> <span class="n">flashcard</span><span class="p">;</span>
</code></pre></div></div> <h3 id="visibility">Visibility</h3> <p>I want to hide as much functionality from the outside world as possible and only expose the things that the <code class="language-plaintext highlighter-rouge">main</code> function needs. By default most things in Rust are private and can only be made visible to the outside world through explicit declarations.</p> <p>The application will need a <code class="language-plaintext highlighter-rouge">Config</code> struct that can be used by both main and the engine to determine the applications configuration. To implement this I use the <code class="language-plaintext highlighter-rouge">pub</code> keyword before the struct name so that it will be visible from outside the <code class="language-plaintext highlighter-rouge">config</code> module. The implementation of <code class="language-plaintext highlighter-rouge">Config</code> also needs a single public function so that main can create a <code class="language-plaintext highlighter-rouge">Config</code> object so I add <code class="language-plaintext highlighter-rouge">pub fn build</code> to the mix. The other functions in <code class="language-plaintext highlighter-rouge">config.rs</code> will be hidden by default by simply omitting the <code class="language-plaintext highlighter-rouge">pub</code> keyword.</p> <div class="language-rust highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// config.rs</span>
<span class="k">pub</span> <span class="k">struct</span> <span class="n">Config</span> <span class="p">{</span><span class="o">...</span><span class="p">}</span>
<span class="k">impl</span> <span class="n">Config</span> <span class="p">{</span>
    <span class="k">pub</span> <span class="k">fn</span> <span class="nf">build</span><span class="p">(){</span><span class="o">...</span><span class="p">}</span>
    <span class="k">fn</span> <span class="nf">other_function</span><span class="p">(){</span><span class="o">...</span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div> <p>The previous step should make the public components visible to the library crate but they won’t be visible to the binary crate. I add the <code class="language-plaintext highlighter-rouge">pub</code> keyword to the definition of the <code class="language-plaintext highlighter-rouge">config</code> module to make it part of the library’s public API. I also re-export all public elements with <code class="language-plaintext highlighter-rouge">pub use config::*;</code>. This enable the <code class="language-plaintext highlighter-rouge">Config</code> struct to be referenced anywhere in the library crate with <code class="language-plaintext highlighter-rouge">crate::Config</code> instead of a more fully qualified name which is much easier to read.</p> <div class="language-rust highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// src/lib.rs</span>
<span class="k">mod</span> <span class="n">engine</span><span class="p">;</span>
<span class="k">pub</span> <span class="k">mod</span> <span class="n">config</span><span class="p">;</span>
<span class="k">pub</span> <span class="k">use</span> <span class="nn">config</span><span class="p">::</span><span class="o">*</span><span class="p">;</span>
</code></pre></div></div> <p>I perform similar modifications to <code class="language-plaintext highlighter-rouge">engine.rs</code> and declare the <code class="language-plaintext highlighter-rouge">flashcard</code> module as public so that <code class="language-plaintext highlighter-rouge">config</code> module can have access to the <code class="language-plaintext highlighter-rouge">Flashcard</code> type when parsing the configuration file. The <code class="language-plaintext highlighter-rouge">deck</code> module is purely internal logic so it should remain the default of private.</p> <div class="language-rust highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// engine.rs</span>
<span class="k">mod</span> <span class="n">deck</span><span class="p">;</span>
<span class="k">pub</span> <span class="k">mod</span> <span class="n">flashcard</span><span class="p">;</span>
</code></pre></div></div> <div class="language-rust highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// lib.rs</span>
<span class="k">mod</span> <span class="n">engine</span><span class="p">;</span>
<span class="k">pub</span> <span class="k">use</span> <span class="nn">engine</span><span class="p">::</span><span class="n">run</span><span class="p">;</span>
<span class="k">pub</span> <span class="k">use</span> <span class="nn">engine</span><span class="p">::</span><span class="nn">flashcard</span><span class="p">::</span><span class="o">*</span><span class="p">;</span>
<span class="k">pub</span> <span class="k">mod</span> <span class="n">config</span><span class="p">;</span>
<span class="k">pub</span> <span class="k">use</span> <span class="nn">config</span><span class="p">::</span><span class="o">*</span><span class="p">;</span>
</code></pre></div></div> <p>Now that the basic layout is thought out and implemented I can block out the functionality. I want to keep the main theme of this post on modularity and visibility so I won’t spend much time on it here. Just know that I added some functions and had a working utility before the next step but the following instructions can be used at any time.</p> <p>There is a utility module for cargo that makes visualizing the module tree a breeze. To verify the structure of your library crate and visibility settings:</p> <ol> <li>Install the cargo-modules utility with <code class="language-plaintext highlighter-rouge">cargo install cargo-modules</code> </li> <li>Generate the module tree with <code class="language-plaintext highlighter-rouge">cargo modules structure --lib</code> </li> </ol> <p>Which generates the following output for the finished project:</p> <div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gp">C:\repos\flashcards_cli&gt;</span><span class="w"> </span>cargo modules structure <span class="nt">--lib</span>
<span class="go">
crate flashcards_cli
├── mod config: pub
│   └── struct Config: pub
│       ├── fn build: pub
│       └── fn check_default_path: pub(self)
└── mod engine: pub(crate)
    ├── mod deck: pub(self)
    │   └── struct Deck: pub
    │       ├── fn draw_hand: pub
    │       ├── fn hand_count: pub
    │       ├── fn increase_level_pool: pub
    │       ├── fn new: pub
    │       └── fn next_card: pub
    ├── mod flashcard: pub
    │   └── struct FlashCard: pub
    │       └── fn new: pub
    ├── fn get_input: pub(self)
    ├── fn run: pub
    └── fn show_card: pub(self)
</span></code></pre></div></div> <h2 id="try-it-out">Try It Out</h2> <p>I have created a CodeSandbox which follows the content so far. Once the CodeSandbox is opened, you have the option of signing in and making edits such as adding modules or modifying visibility settings. Modifications are automatically saved during context switches from file-to-file or when the Ctrl+s keyboard shortcut is used. Once a change to any of the source files is detected, the module structure tree will be automatically regenerated.</p> <p><a href="https://codesandbox.io/p/devbox/flashcards-project-modules-dq8zwx?embed=1&amp;file=%2Fsrc%2Fmain.rs" rel="external nofollow noopener" target="_blank"><img src="https://codesandbox.io/static/img/play-codesandbox.svg" alt="Edit flashcards-project-modules"></a></p> <h2 id="summary">Summary</h2> <ul> <li>The compiler looks for modules starting at the crate root.</li> <li>Modules are found in the following order: <ul> <li>Inline.</li> <li>In src/module_name.rs.</li> <li>In src/module_name/mod.rs.</li> </ul> </li> <li>Sub-modules are found in the following order: <ul> <li>Inline.</li> <li>In src/module_name/sub_module_name.rs.</li> <li>In src/module_name/sub_module_name/mod.rs.</li> </ul> </li> <li>Most things in Rust have private visibility by default.</li> <li>Items marked with <code class="language-plaintext highlighter-rouge">pub</code> are visible outside of the containing module</li> <li>Re-exporting items from a top level module makes them visible to other sub modules and the outside world.</li> </ul> <h2 id="additional-resources">Additional Resources</h2> <ul> <li><a href="https://doc.rust-lang.org/book/ch07-02-defining-modules-to-control-scope-and-privacy.html" rel="external nofollow noopener" target="_blank">Defining Modules to Control Scope and Privacy</a></li> <li><a href="https://doc.rust-lang.org/book/ch07-00-managing-growing-projects-with-packages-crates-and-modules.html" rel="external nofollow noopener" target="_blank">Managing Growing Projects with Packages, Crates, and Modules</a></li> <li><a href="https://www.sheshbabu.com/posts/rust-module-system/" rel="external nofollow noopener" target="_blank">Clear explanation of Rust’s module system</a></li> <li><a href="https://www.youtube.com/watch?v=969j0qnJGi8" rel="external nofollow noopener" target="_blank">Rust Modules - Explained Like I’m 5</a></li> </ul> </article><div id="giscus_thread" style="max-width: 1280px; margin: 0 auto;"> <script>let giscusTheme=localStorage.getItem("theme"),giscusAttributes={src:"https://giscus.app/client.js","data-repo":"aven-arlington/aven-arlington.github.io","data-repo-id":"","data-category":"Comments","data-category-id":"","data-mapping":"title","data-strict":"1","data-reactions-enabled":"1","data-emit-metadata":"0","data-input-position":"bottom","data-theme":giscusTheme,"data-lang":"en",crossorigin:"anonymous",async:""},giscusScript=document.createElement("script");Object.entries(giscusAttributes).forEach(([t,e])=>giscusScript.setAttribute(t,e)),document.getElementById("giscus_thread").appendChild(giscusScript);</script> <noscript>Please enable JavaScript to view the <a href="http://giscus.app/?ref_noscript" rel="external nofollow noopener" target="_blank">comments powered by giscus.</a> </noscript> </div> </div> </div> </div> </div> <footer class="fixed-bottom"> <div class="container mt-0"> © Copyright 2024 Aven Arlington. Powered by <a href="https://jekyllrb.com/" target="_blank" rel="external nofollow noopener">Jekyll</a> with a heavily modified <a href="https://github.com/alshedivat/al-folio" rel="external nofollow noopener" target="_blank">al-folio</a> theme. Hosted by <a href="https://pages.github.com/" target="_blank" rel="external nofollow noopener">GitHub Pages</a>. Last updated: January 27, 2024. </div> </footer> <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script> <script src="/assets/js/bootstrap.bundle.min.js"></script> <script src="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/js/mdb.min.js" integrity="sha256-NdbiivsvWt7VYCt6hYNT3h/th9vSTL4EDWeGs5SN3DA=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/masonry-layout@4.2.2/dist/masonry.pkgd.min.js" integrity="sha256-Nn1q/fx0H7SNLZMQ5Hw5JLaTRZp0yILA/FRexe19VdI=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/imagesloaded@4/imagesloaded.pkgd.min.js"></script> <script defer src="/assets/js/masonry.js" type="text/javascript"></script> <script defer src="https://cdn.jsdelivr.net/npm/medium-zoom@1.0.8/dist/medium-zoom.min.js" integrity="sha256-7PhEpEWEW0XXQ0k6kQrPKwuoIomz8R8IYyuU1Qew4P8=" crossorigin="anonymous"></script> <script defer src="/assets/js/zoom.js?7b30caa5023af4af8408a472dc4e1ebb"></script> <script defer src="/assets/js/bootstrap-toc.min.js?c82ff4de8b0955d6ff14f5b05eed7eb6"></script> <script defer src="https://unpkg.com/bootstrap-table@1.22.1/dist/bootstrap-table.min.js"></script> <script src="/assets/js/no_defer.js?d633890033921b33e0ceb13d22340a9c"></script> <script defer src="/assets/js/common.js?acdb9690d7641b2f8d40529018c71a01"></script> <script defer src="/assets/js/copy_code.js?07b8786bab9b4abe90d10e61f7d12ff7" type="text/javascript"></script> <script type="text/javascript">window.MathJax={tex:{tags:"ams"}};</script> <script defer type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3.2.0/es5/tex-mml-chtml.js"></script> <script defer src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script> <script type="text/javascript">function progressBarSetup(){"max"in document.createElement("progress")?(initializeProgressElement(),$(document).on("scroll",function(){progressBar.attr({value:getCurrentScrollPosition()})}),$(window).on("resize",initializeProgressElement)):(resizeProgressBar(),$(document).on("scroll",resizeProgressBar),$(window).on("resize",resizeProgressBar))}function getCurrentScrollPosition(){return $(window).scrollTop()}function initializeProgressElement(){let e=$("#navbar").outerHeight(!0);$("body").css({"padding-top":e}),$("progress-container").css({"padding-top":e}),progressBar.css({top:e}),progressBar.attr({max:getDistanceToScroll(),value:getCurrentScrollPosition()})}function getDistanceToScroll(){return $(document).height()-$(window).height()}function resizeProgressBar(){progressBar.css({width:getWidthPercentage()+"%"})}function getWidthPercentage(){return getCurrentScrollPosition()/getDistanceToScroll()*100}const progressBar=$("#progress");window.onload=function(){setTimeout(progressBarSetup,50)};</script> </body> </html>